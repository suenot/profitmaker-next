# Исправление z-index контекстного меню

## Задача
Контекстное меню при правом клике должно иметь z-index выше чем у виджетов, чтобы всегда отображаться поверх них.

## Текущее состояние (анализ кода)

### Найденные z-index значения:

#### Виджеты
- WidgetSimple.tsx: максимальный z-index 10001 при maximize, обычно используется значение из store
- dashboardStore.ts: bringWidgetToFront устанавливает maxZIndex + 1
- context/WidgetContext.tsx: nextZIndex начинается с 1 и инкрементируется

#### Контекстные меню
- WidgetMenu.tsx: z-50 (что равно примерно 50 в Tailwind CSS)
- GroupMenu.tsx: z-[1000] (кастомное значение 1000)
- ui/context-menu.tsx: z-50 (используется Radix UI компонент)

### Проблема
- WidgetMenu имеет z-50 (50)
- GroupMenu имеет z-[1000] (1000) 
- Виджеты могут иметь z-index больше 1000 при активации
- При максимизации виджет получает z-index 10001

## Решение
Установить единый высокий z-index для всех контекстных меню:

1. WidgetMenu: изменить с z-50 на z-[10002]
2. context-menu.tsx: изменить с z-50 на z-[10002] 
3. GroupMenu: изменить с z-[1000] на z-[10002] для консистентности
4. Значение 10002 больше максимального z-index виджетов (10001 при maximize)

## Выполненные изменения

### src/components/WidgetMenu.tsx
- Изменено: `z-50` → `z-[10002]`
- Контекстное меню для добавления виджетов теперь отображается поверх всех виджетов

### src/components/GroupMenu.tsx  
- Изменено: `z-[1000]` → `z-[10002]`
- Меню выбора групп теперь отображается поверх всех виджетов

### src/components/ui/context-menu.tsx
- Изменено в ContextMenuContent: `z-50` → `z-[10002]`
- Изменено в ContextMenuSubContent: `z-50` → `z-[10002]`
- Все базовые контекстные меню теперь отображаются поверх виджетов

## План работы
1. ✅ Анализ текущих z-index значений 
2. ✅ Обновление z-index для WidgetMenu (z-50 → z-[10002])
3. ✅ Обновление z-index для context-menu.tsx (z-50 → z-[10002])
4. ✅ Обновление z-index для GroupMenu (z-[1000] → z-[10002])
5. ⏳ Тестирование что меню отображаются поверх виджетов

## Проверенные файлы
- ✅ src/components/WidgetMenu.tsx - z-50 найден и исправлен на z-[10002]
- ✅ src/components/GroupMenu.tsx - z-[1000] найден и исправлен на z-[10002]
- ✅ src/components/ui/context-menu.tsx - z-50 найден и исправлен на z-[10002]
- ✅ src/components/WidgetSimple.tsx - максимальный z-index проанализирован
- ✅ src/store/dashboardStore.ts - логика z-index проанализирована

## Результат
✅ **Задача выполнена!** Все контекстные меню теперь имеют z-index 10002, что выше максимального z-index виджетов (10001 при maximize). Контекстные меню при правом клике теперь всегда отображаются поверх виджетов.

## Техническая информация
- Максимальный z-index виджетов: 10001 (при maximize)
- Z-index контекстных меню: 10002
- Это гарантирует что меню всегда отображаются поверх любых виджетов 